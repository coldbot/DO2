<!DOCTYPE html>
<head>
    <script>
    const nameImageHash = {
            "BdoubleO100": "https://static.wikia.nocookie.net/hermitcraft/images/5/55/BdoubleO100-face.png",
            "Cubfan135": "https://static.wikia.nocookie.net/hermitcraft/images/7/7e/Cubfan135-face.png",
            "Docm77": "https://static.wikia.nocookie.net/hermitcraft/images/6/66/Docm77-face.png",
            "Ethoslab": "https://static.wikia.nocookie.net/hermitcraft/images/2/25/EthosLab-face.png",
            "Geminitay": "https://static.wikia.nocookie.net/hermitcraft/images/2/2d/GeminiTay-face.png",
            "GeminiTay": "https://static.wikia.nocookie.net/hermitcraft/images/2/2d/GeminiTay-face.png",
            "Scar": "https://static.wikia.nocookie.net/hermitcraft/images/7/7f/GoodTimesWithScar-face.png",
            "Grian": "https://static.wikia.nocookie.net/hermitcraft/images/b/bb/Grian-face.png",
            "Hypnotizd": "https://static.wikia.nocookie.net/hermitcraft/images/d/d5/Hypnotizd-face.png",
            "iJevin": "https://static.wikia.nocookie.net/hermitcraft/images/b/bc/IJevin-face.png",
            "impulseSV": "https://static.wikia.nocookie.net/hermitcraft/images/e/e6/ImpulseSV-face.png",
            "iskall85": "https://static.wikia.nocookie.net/hermitcraft/images/d/db/Iskall85-face.png",
            "JoeHills": "https://static.wikia.nocookie.net/hermitcraft/images/4/4d/JoeHills-face.png",
            "Keralis": "https://static.wikia.nocookie.net/hermitcraft/images/8/80/Keralis-face.png",
            "Pearl": "https://static.wikia.nocookie.net/hermitcraft/images/f/f2/PearlescentMoon-face.png",
            "RenDog": "https://static.wikia.nocookie.net/hermitcraft/images/3/3e/Rendog-face.png",
            "Rendog": "https://static.wikia.nocookie.net/hermitcraft/images/3/3e/Rendog-face.png",
            "Stress": "https://static.wikia.nocookie.net/hermitcraft/images/1/1f/StressMonster101-face.png",
            "VintageBeef": "https://static.wikia.nocookie.net/hermitcraft/images/f/fb/VintageBeef-face.png",
            "Xisuma": "https://static.wikia.nocookie.net/hermitcraft/images/6/67/Xisumavoid-face.png",
            "Zedaph": "https://static.wikia.nocookie.net/hermitcraft/images/c/c8/Zedaph-face.png",
            "ZombieCleo": "https://static.wikia.nocookie.net/hermitcraft/images/9/90/ZombieCleo-face.png",
            "FalseSymmetry": "https://static.wikia.nocookie.net/hermitcraft/images/c/c0/FalseSymmetry-face.png",
            "MumboJumbo": "https://static.wikia.nocookie.net/hermitcraft/images/1/15/MumboJumbo-face.png",
            "TangoTek": "https://static.wikia.nocookie.net/hermitcraft/images/7/71/TangoTek-face.png",
            "XB": "https://static.wikia.nocookie.net/hermitcraft/images/d/df/XBCrafted-face.png",
            "xBCrafted":"https://static.wikia.nocookie.net/hermitcraft/images/d/df/XBCrafted-face.png",
            "Welsknight":"https://static.wikia.nocookie.net/hermitcraft/images/4/40/Welsknight-face.svg"
    };
    const googleSheetURL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQrXRcKhaXrVDsUs9rcnfCSTC3K-9Q_D8Cidl4IP4rUcPeiSSNxU2fv7eHce4F_EXHZM7RJCTcSbS_b/pubhtml';
    </script>

    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Averia+Serif+Libre:wght@700&family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <title>Decked Out 2 - Ratings</title>
</head>

<body>
<div class="spacer"></div>
<div class="Mycontent">

<h1>Decked Out 2 / Player Performance Ratings</h1>
<p style="text-align: center;"><a href="https://hermitcraft.fandom.com/wiki/Decked_Out_2" style="font-family: 'Averia Serif Libre', cursive;">Decked Out 2</a> is a competitive, deck-building, dungeon crawler game created in Minecraft by <a href="https://www.youtube.com/channel/UC4YUKOBld2PoOLzk0YZ80lw">TangoTek</a> as part of his main base. <br>
This little page tries to rate the players of <span style="font-family: 'Averia Serif Libre', cursive;">Decked Out 2</span> based on their successes and failures in the dungeon. The players are given points for wins &#128081; , 
or subtracted points if they fail &#128128; in the <span style="font-family: 'Averia Serif Libre', cursive;">Decked Out 2</span> dungeon.<br>The amount of points added or subtracted is modified by how difficult a players run was. See <a href="#how_ratings_are_calculated">bottom of page for more info</a>.</p>
</div>

<div class="Mycontent">
    
    <div class="wrapper">
    
        <div>
            <h2 style="text-align: center;">Player Rating Scoreboard</h2>

                <table id="ratingTable">
                    <thead>
                        <tr>
                            <th id="rating">#</th>
                            <th id="Rchange">↑↓</th>
                            <th id="hermit">Hermit</th>
                            <th id="phase1">Phase 3</th>
                            <th id="phase2">Phase 2</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>

                <p style="font-size: 12px;text-align: center;">Table 1. Standings from current phase and previous phases.<br>Standings will change as more runs become public.<br>↑↓ represents change in placement (#) from previous phase to current phase.<br>
                <span style="color: var(--highlight);font-weight: bold;">NB! Ratings are updated manually when I have time.</span></p>
                <script src="loadratingtable.js"></script>
        </div>

        <div>
            <h2 style="text-align: center;">Card Deck Power</h2>
            
                <table id="table-card-rating">
                    <thead>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            <p style="font-size: 12px;text-align: center;">This metric simply divides the total cost of all a players cards by the maxium cards amount that they can have in Decked Out 2 (Which is 40).
            <br>More cards and more valuable cards give a higher deck power.</p>
            <script src="deckpower.js"></script>
        </div>

    </div>
    
    <div>

<p style="font-size: 12px;">Data source: <a href="https://docs.google.com/spreadsheets/d/e/2PACX-1vQrXRcKhaXrVDsUs9rcnfCSTC3K-9Q_D8Cidl4IP4rUcPeiSSNxU2fv7eHce4F_EXHZM7RJCTcSbS_b/pubhtml">DO2 Tracking (The Dungeon Archive)</a></p>
</div>
</div>

<div class="Mycontent">
    <h2>Recent Runs</h2>
    <p>The table will updated automatically as players do runs. But requires manual page refresh.</p>
    <div style="max-height: 525px;overflow-y: scroll;overflow-x: auto;">
        <table id="data-table-runs" style="width: 100%">
            <thead>
                <th>Run No.</th>
                <th>Hermit</th>
                <th>Difficulty</th>
                <th>Artifact Level</th>
                <th>Artifact Found</th>
                <th>Death Cause</th>
                <th>Success / Fail</th>
                <th><img src="https://static.wikia.nocookie.net/hermitcraft/images/1/16/Decked-Out-2-Crown.png" width="30"></th>
                <th><img src="https://static.wikia.nocookie.net/hermitcraft/images/7/73/Decked-Out-2-Frost-Ember.png" width="25"></th>
                <th>Phase</th>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>
    <p style="text-align: center;"><a href="https://coldbot.github.io/DO2/runs">Full view</a></p>
    <p style="font-size: 12px;">Data source: <a href="https://docs.google.com/spreadsheets/d/e/2PACX-1vQrXRcKhaXrVDsUs9rcnfCSTC3K-9Q_D8Cidl4IP4rUcPeiSSNxU2fv7eHce4F_EXHZM7RJCTcSbS_b/pubhtml">DO2 Tracking (The Dungeon Archive)</a></p>
    <script src="recentruns.js"></script>
</div>

<div class="Mycontent">
<h2 id = "timelineheading">Timeline of Rating Progression / All Phases</h2>
<div class="graph_menu" style="text-align:center">
    <button id="toggle" class="buttonToggle">Show/hide data</button> 
    <button id="button1" class="button selected">All phases</button> 
    <button id="button2" class="button">Phase 1</button> 
    <button id="button3" class="button">Phase 2</button> 
    <button id="button4" class="button">Phase 3</button> 

</div>

<br><br>

<script>
    const timelineHeading = document.getElementById("timelineheading");

    document.getElementById("button1").addEventListener("click", function () {
        timelineHeading.textContent = "Timeline of Rating Progression / All Phases";
    });

    document.getElementById("button2").addEventListener("click", function () {
        timelineHeading.textContent = "Timeline of Rating Progression / Phase 1";
    });

    document.getElementById("button3").addEventListener("click", function () {
        timelineHeading.textContent = "Timeline of Rating Progression / Phase 2";
    });

    document.getElementById("button4").addEventListener("click", function () {
        timelineHeading.textContent = "Timeline of Rating Progression / Phase 3";
    });

    var button = document.getElementsByClassName("button");
	
    var addSelectClass = function(){
        removeSelectClass();
        this.classList.add('selected');	
    }

    var removeSelectClass = function(){
        for (var i =0; i < button.length; i++) {
            button[i].classList.remove('selected')
        }
    }
    
    for (var i =0; i < button.length; i++) {
        button[i].addEventListener("click",addSelectClass);
    }
</script>
<canvas id="myChart"></canvas>
<p style="font-size: 12px;">Data source: <a href="https://docs.google.com/spreadsheets/d/e/2PACX-1vQrXRcKhaXrVDsUs9rcnfCSTC3K-9Q_D8Cidl4IP4rUcPeiSSNxU2fv7eHce4F_EXHZM7RJCTcSbS_b/pubhtml">DO2 Tracking (The Dungeon Archive)</a></p>
</div>


<div class="Mycontent">
    <h2>Barplot / Highest to Lowest Rated Players</h2>
    <canvas id="barChart"></canvas>
    <p style="font-size: 12px;">Data source: <a href="https://docs.google.com/spreadsheets/d/e/2PACX-1vQrXRcKhaXrVDsUs9rcnfCSTC3K-9Q_D8Cidl4IP4rUcPeiSSNxU2fv7eHce4F_EXHZM7RJCTcSbS_b/pubhtml">DO2 Tracking (The Dungeon Archive)</a></p>
</div>


<div class="Mycontent">
<h2 id="how_ratings_are_calculated">How ratings are calculated</h2>
<p>The rating system is based formula 2 by Arpad Elo found in <a href="https://gwern.net/doc/statistics/order/comparison/1978-elo-theratingofchessplayerspastandpresent.pdf">his publication</a>.<br></p>

<p style="text-align: center;"><span style="font-family: 'Averia Serif Libre', cursive;">Decked Out 2</span> Rating Formula:<br><b>R2 = R1 + (K(S-E))</b></p>

<p><b>R2</b> is the new rating after a run. <b>R1</b> is the players rating before the run. <b>S</b> is 1 if the player succeed or 0 if they failed.
<b>E</b> represents the probability of succeeding in the dungeon. <b>E</b> is calculated per phase in the game based on the overall player success for the X difficulty and Y level artifact (Table 1). <b>E</b> will modify how much a 
players rating increases or decreases. The maximum points a player can have added or subtracted to their ranking is <b>K</b>, and it's set to 32. Some examples: If <b>E</b> equals 0.5, a player will gain or lose 12.5 points if they succeed or fail. 
If <b>E</b> is high, say 0.8, a player will gain 6.4 points if they succeed or lose 25.6 points if they fail. If <b>E</b> is low, say 0.2, a player will gain 25.6 points if they succeed or lose 6.4 points if they fail. All players start with a rating of 1000.
<p>As <b>E</b> values will change a lot during a phase (every new run brings a new estimate), expect player ratings to also change a lot during an active phase. Player ratings are only fixed for phases that are completed and were all the runs for the phase is accounted for.</p>
</p>
<div class="spacer"></div>
    <table  id="difficulty_factor_table">
        <p style="font-size: 12px;text-align: center;">Table 2. Difficulty Factors (<b>E</b>) used. The probability of a player doing a successful DO2 run with X difficulty and Y artifact level location. Easy and Medium LvL 1 is combined, to avoid "noob bias"*.</p>
        <thead>
        <tr>
            <th></th>
            <th>Easy/Medium<br>LvL1</th>
            <th>Medium<br>LvL2</th>
            <th>Hard<br>LvL2</th>
            <th>Hard<br>LvL3</th>
            <th>Deadly</th>
            <th>Deep Frost</th>
        </tr>
    </tr>
        </thead>
        <tbody>
        <tr>   
            <td><b>Phase 1:</b></td>
            <td>0.57</td>
            <td>0.10</td>
            <td>0.18</td>
            <td>0.00</td>
            <td></td>
            <td></td>
        </tr>
        <tr>   
            <td><b>Phase 2:</b></td>
            <td>0.68</td>
            <td>0.35</td>
            <td>0.12</td>
            <td>0.25</td>
            <td></td>
            <td></td>
        </tr>
        </tbody>
    </table>
    <p style="font-size: 12px;text-align: center;">*The "noob bias" (tm) is the fact that when a Hermit first runs Decked Out 2, their skill level is at the lowest, they dont know how the game works, and they will be running Easy Lvl 1.<br>
        This resulted in a Easy Lvl 1 difficulty estimate <b>E</b> that implied that Easy Lvl 1  
        is twice as hard as Medium lvl 1!<br>Even though from a gameplay perspective, they should be fairly similar. For now, lvl 2 and up are still split, as once a Hermit goes there,
        <br>they should know how the game works and be out of that early noob phase.</p>

<br>
<div class="spacer"></div>
</div>
</body>

<sub>
<p style="text-align: center;"><a href="https://hermitcraft.fandom.com/wiki/Decked_Out_2">Decked Out 2 Wiki</a> | <a href="https://www.youtube.com/channel/UC4YUKOBld2PoOLzk0YZ80lw">TangoTek YouTube</a><br>Page maintained by kaldbloding (discord)</p>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/1.0.2/chartjs-plugin-annotation.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
<script src="script.js"></script>
<script src="sortTable.js"></script>

</sub>
